import{r as y,u as ot,j as o,R as nt,i as Se}from"./index-CzkBdf-o.js";import{E as st,v as at,a as lt,n as it}from"./verdanbold-CNm70NRI.js";const ut=()=>{const q={cursor:"pointer",caretColor:"transparent",userSelect:"none"},[l,F]=y.useState({invoiceNumber:"",date:"",terms:"",dueDate:"",billToName:"",billtocompanyname:"",billToAddress:"",billToemail:"",billTophone:"",billTogstin:"",shipToName:"",shipTocompanyname:"",shipToAddress:"",shipToemail:"",shipTophone:"",shipTogstin:"",subTotal:"",cgst:"",sgst:"",total:"",balanceDue:"",totalDiscount:"0.00",totalInWords:"",year:"24-25",thankYouMessage:"Thank you for the valuable business! We will always be at your desk to support you.",termsAndConditions:"Full payment is due upon receipt of this invoice. Late payments may incur additional charges or interest As per the applicable laws.",bankDetails:`Name: Excerpt Technologies Private Limited
Account Number: 10063739760
Name of Bank: IDFC First Bank 
IFSC Code: IDFB0080151
PAN No : AAGCE2327K`}),[w,Ne]=y.useState(""),[$,ve]=y.useState(""),[J,Q]=y.useState(0),[rt,ee]=y.useState(null),[P,H]=y.useState([{label:"",amount:""}]),[te,oe]=y.useState(!1),[T,E]=y.useState([{title:"Part A",items:[{description:"",amount:""}]}]),De=ot(),we=t=>{const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],s=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],a=r=>r<20?e[r]:r<100?s[Math.floor(r/10)]+(r%10?" "+e[r%10]:""):r<1e3?e[Math.floor(r/100)]+" Hundred"+(r%100?" and "+a(r%100):""):r<1e5?a(Math.floor(r/1e3))+" Thousand"+(r%1e3?" "+a(r%1e3):""):r<1e7?a(Math.floor(r/1e5))+" Lakh"+(r%1e5?" "+a(r%1e5):""):a(Math.floor(r/1e7))+" Crore"+(r%1e7?" "+a(r%1e7):""),[n,h]=Number(t).toFixed(2).split("."),b=a(parseInt(n))+" Rupees",S=parseInt(h)?" and "+a(parseInt(h))+" Paise":"";return b+S+" only"},ne=t=>new Date(t).toLocaleDateString("en-GB"),W=t=>`₹ ${parseFloat(t).toFixed(2)}`,[Y,Ae]=y.useState(!1),se=t=>t?/^[^@.\s]+@[^@\s]+\.[^@\s]+$/.test(t):!0,ae=t=>{if(!t)return!0;const e=t.replace(/\s+/g,"");return/^\+91[6-9]\d{9}$/.test(e)},le=t=>t?/^[A-Z0-9]{15}$/.test(t.toUpperCase()):!0,Ie=t=>{const e=t.target.checked;Ae(e),e&&F(s=>({...s,shipToName:s.billToName,shipTocompanyname:s.billtocompanyname,shipToAddress:s.billToAddress,shipToemail:s.billToemail,shipTophone:s.billTophone,shipTogstin:s.billTogstin}))},c=t=>{const{name:e,value:s}=t.target;if(e==="billTophone"||e==="shipTophone"){if(s&&!s.startsWith("+91")){if(s.match(/^[6-9]/)){const a="+91"+s;if(F(n=>({...n,[e]:a})),Y&&e.startsWith("billTo")){const n=e.replace("billTo","shipTo");F(h=>({...h,[n]:a}))}return}return}if(s.length>3){const a=s.slice(3);if(!/^\d*$/.test(a)||a.length>10||a.length===1&&!/^[6-9]$/.test(a))return}}if(e==="billTogstin"||e==="shipTogstin"){if(s.length>15)return;const a=s.toUpperCase().replace(/[^A-Z0-9]/g,"");if(F(n=>({...n,[e]:a})),Y&&e.startsWith("billTo")){const n=e.replace("billTo","shipTo");F(h=>({...h,[n]:a}))}return}if(F(a=>({...a,[e]:s})),Y&&e.startsWith("billTo")){const a=e.replace("billTo","shipTo");F(n=>({...n,[a]:s}))}};y.useEffect(()=>{const t=T.reduce((b,S)=>b+S.items.reduce((r,u)=>r+(parseFloat(u.amount)||0),0),0),e=parseFloat(w)||0,s=parseFloat($)||0,a=t*(e/100),n=t*(s/100),h=t+a+n;F(b=>({...b,subTotal:t.toFixed(2),cgst:a.toFixed(2),sgst:n.toFixed(2),total:h.toFixed(2),balanceDue:h.toFixed(2)}))},[T,w,$]),y.useEffect(()=>{(async()=>{try{const e=await Se.get("/last-invoice-number");Q(e.data.lastNumber||0)}catch(e){console.error("Error fetching last invoice number:",e)}})()},[]),y.useEffect(()=>{const t=`ETPL/${l.year}/${String(J+1).padStart(3,"0")}`;F(e=>({...e,invoiceNumber:t}))},[J,l.year]),y.useEffect(()=>{const t=T.reduce((r,u)=>r+u.items.reduce((O,R)=>O+(parseFloat(R.amount)||0),0),0),e=parseFloat(w)||0,s=parseFloat($)||0,a=t*(e/100),n=t*(s/100),h=P.reduce((r,u)=>r+(parseFloat(u.amount)||0),0),S=t-h+a+n;F(r=>({...r,subTotal:t.toFixed(2),totalDiscount:h.toFixed(2),cgst:a.toFixed(2),sgst:n.toFixed(2),total:S.toFixed(2),balanceDue:S.toFixed(2)}))},[T,w,$,P]);const Pe=t=>{const e=t.target.value;(e===""||/^[0-9]*\.?[0-9]*$/.test(e))&&Ne(e)},Ee=t=>{const e=t.target.value;(e===""||/^[0-9]*\.?[0-9]*$/.test(e))&&ve(e)},We=(t,e)=>{const s=[...T];s[t].title=e,E(s)},ie=(t,e,s,a)=>{const n=[...T];if(s==="amount"){(a===""||/^\d{1,9}(\.\d{0,2})?$/.test(a))&&(n[t].items[e][s]=a,E(n));return}n[t].items[e][s]=a,E(n)},ke=t=>{const e=[...T];e[t].items.push({description:"",amount:""}),E(e)},Ve=(t,e)=>{const s=[...T];s[t].items.splice(e,1),E(s)},Le=()=>{const t=String.fromCharCode(65+T.length);E([...T,{title:`Part ${t}`,items:[{description:"",amount:""}]}])},ze=t=>{const e=T.filter((s,a)=>a!==t);E(e)},re=(t,e,s)=>{const a=[...P];if(e==="amount"){(s===""||/^\d{1,9}(\.\d{0,2})?$/.test(s))&&(a[t][e]=s,H(a));return}a[t][e]=s,H(a)},Be=()=>{H([...P,{label:"",amount:""}])},$e=t=>{const e=P.filter((s,a)=>a!==t);H(e)},Xe=async t=>{try{ee(t._id);const e=new st("p","mm","a4"),s=e.internal.pageSize.getWidth(),a=e.internal.pageSize.getHeight();e.addFileToVFS("Verdana.ttf",at),e.addFont("Verdana.ttf","Verdana","normal"),e.addFileToVFS("Verdana-Bold.ttf",lt),e.addFont("Verdana-Bold.ttf","Verdana","bold"),e.addFileToVFS("NotoSans.ttf",it),e.addFont("NotoSans.ttf","NotoSans","normal");let n=25;e.setFillColor(0,81,255),e.rect(10,5,s-20,28,"F");try{e.addImage("./image/excerpt.webp","PNG",12,12,35,14)}catch{console.log("Logo not found, using text instead"),e.setTextColor(255,255,255),e.setFontSize(20),e.setFont("Verdana","bold"),e.text("Excerpt",12,25)}const h=60,b=9;e.setTextColor(255,255,255),e.setFont("NotoSans","normal"),e.setFontSize(12),e.text("Excerpt Technologies Pvt Ltd",h,b),e.setFont("NotoSans","normal"),e.setFontSize(8),e.text("B133/1, 2nd FL, KSSIDC ITI Estate, Whitefield Rd,",h,b+5.5),e.text("Mahadevpura Post, Bangalore – 560048",h,b+9.5),e.text("Phone:+91(636) 465 7660, +91 (990) 050 2404 ",h,b+13.5),e.text("GSTIN:29AAGCE2327K1ZH",h,b+17.5),e.text("LUT No.: AD291021005439D",h,b+21.5),e.setFont("NotoSans","bold"),e.setFontSize(18),e.text("INVOICE",s-15,b+15.5,{align:"right"}),e.setTextColor(0,0,0),n=30,e.setDrawColor(0,0,0),e.setLineWidth(.05);const S=n,r=a-S-20;e.rect(10,S+3,s-20,r);const u=10,O=s-20,R=22;e.rect(u,n+3,O,R);const ce=u+O/2;e.line(ce,n+3,ce,n+R+3),e.setFontSize(8),e.setFont("Verdana","normal"),e.text("Invoice",u+4,n+7),e.text("Date",u+4,n+12),e.text("Terms",u+4,n+17),e.text("Due Date",u+4,n+22),e.setFont("Verdana","bold"),e.text(`: ${t.invoiceNumber}`,u+28,n+7),e.text(`: ${ne(t.date)}`,u+28,n+12),e.text(`: ${t.terms}`,u+28,n+17),e.text(`: ${ne(t.dueDate)}`,u+28,n+22),n+=R+3;const Re=(i,f,C,v,x,j,D,g,K,Fe,U,Ce)=>{let z=0;i&&(z+=1),f&&(z+=1),C&&(z+=C.split(`
`).length),v&&(z+=1),x&&(z+=1),j&&(z+=1);let B=0;D&&(B+=1),g&&(B+=1),K&&(B+=K.split(`
`).length),Fe&&(B+=1),U&&(B+=1),Ce&&(B+=1);const tt=Math.max(z,B);return Math.max(12+tt*4+8,36)},X=10,k=105,M=95,Z=Re(t.billToName,t.billToCompanyName,t.billToAddress,t.billToEmail,t.billToPhone,t.billToGstin,t.shipToName,t.shipToCompanyName,t.shipToAddress,t.shipToEmail,t.shipToPhone,t.shipToGstin);e.setDrawColor(0,0,0),e.setLineWidth(.1),e.setFillColor(220,220,220),e.rect(X,n,M*2,Z),e.line(k,n,k,n+Z),e.rect(X+.1,n+.5,M-.6,4,"F"),e.rect(k+.1,n+.5,M-.6,4,"F"),e.line(X,n+4,X+M,n+4),e.line(k,n+4,k+M,n+4);let Me=n+10,He=n+10;Me+=6,He+=6;const Ye=(i,f)=>{const C=i.split(" "),v=[];let x="";for(let j of C){const D=x+(x?" ":"")+j;e.getTextWidth(D)>f&&x?(v.push(x),x=j):x=D}return x&&v.push(x),v};e.setFont("Verdana","normal"),e.setFont("helvetica","bold"),e.setFontSize(7),e.setFillColor(230,230,230),e.text("Bill To",X+2,n+3),e.text("Ship To",k+2,n+3);const de=(i,f,C,v,x,j,D)=>{let g=n+8;if(f&&(e.setFont("helvetica","bold"),e.setFontSize(10),e.text(f,i+2,g),g+=5),C&&(e.setFont("helvetica","bold"),e.setFontSize(10),e.text(C,i+2,g),g+=5),v){e.setFont("helvetica","normal"),e.setFontSize(7);const K=80;v.split(`
`).forEach(U=>{U.trim()&&e.splitTextToSize(U.trim(),K).forEach(je=>{e.text(je,i+2,g),g+=4})})}x&&(e.setFont("helvetica","normal"),e.setFontSize(7),e.text(`EMAIL: ${x}`,i+2,g),g+=4),j&&(e.setFont("helvetica","normal"),e.setFontSize(7),e.text(`PHONE: ${j}`,i+2,g),g+=4),D&&(e.setFont("helvetica","normal"),e.setFontSize(7),e.text(`GSTN: ${D}`,i+2,g),g+=4)};de(X,t.billToName,t.billtocompanyname,t.billToAddress,t.billToemail,t.billTophone,t.billTogstin),de(k,t.shipToName,t.shipTocompanyname,t.shipToAddress,t.shipToemail,t.shipTophone,t.shipTogstin),n+=Z;const V=n,d=10,A=s-20,I=A-50,Oe=50;e.setFillColor(230,230,230),e.rect(d,V,A,6,"F"),e.setDrawColor(0,0,0),e.setLineWidth(.1),e.rect(d,V,A,6),e.line(d+I+20,V,d+I+20,V+10),e.setFontSize(8),e.setFont("Verdana","bold"),e.setTextColor(0,0,0),e.text("Items & Description",d+3,V+4),e.text("Amount",d+I+30,V+4),n=V+5;let he=1;const N=7;t.parts&&t.parts.forEach((i,f)=>{e.setFillColor(220,220,220),e.rect(d,n,A,N,"F"),e.setDrawColor(0,0,0),e.rect(d,n,A,N),e.line(d+I+20,n,d+I+20,n+N),e.setFontSize(8),e.setFont("Verdana","bold"),e.setTextColor(0,0,0),e.text(i.title,d+3,n+4.5),n+=N-1,i.items&&i.items.forEach((C,v)=>{e.setFillColor(255,255,255),e.rect(d,n,A,N,"F"),e.setDrawColor(0,0,0),e.rect(d,n,A,N),e.line(d+I+20,n,d+I+20,n+N),e.line(d+7,n,d+7,n+N),e.setFontSize(9),e.setFont("Verdana","normal"),e.setTextColor(0,0,0);const x=`${he}.   ${C.description}`;e.text(x,d+2,n+5.5),e.setFont("NotoSans","normal");const j=W(C.amount),D=d+I+Oe-3-e.getTextWidth(j);e.text(j,D,n+5.5),n+=N,he++})}),e.setDrawColor(0,0,0),e.line(d,n,d+A,n),n+=8;const pe=15,Ke=120,m=s-95,G=83;e.setFontSize(10),e.setFont("Verdana","bold"),e.text("Total In Words:",pe,n),e.setFontSize(10),e.setFont("NotoSans","bolditalic");const Ue=we(t.total),Ze=e.splitTextToSize(Ue,Ke);e.text(Ze,pe,n+6),e.line(s/1.5,n-8,s/1.5,n+58),e.line(s/1.5,n+58,s-10,n+58),e.setLineWidth(.35),e.line(s/1.236,n-8,s/1.236,n+36),e.setFontSize(9);let p=n;e.setFont("Verdana","normal"),e.text("Sub Total:",m+30,p),e.setFont("NotoSans","normal");const ue=W(t.subTotal);e.text(ue,m+G-e.getTextWidth(ue),p),p+=6,e.setFont("Verdana","normal"),e.text(`CGST (${t.cgstRate||0}%):`,m+30,p),e.setFont("NotoSans","normal");const me=W(t.cgst||0);e.text(me,m+G-e.getTextWidth(me),p),p+=6,e.setFont("Verdana","normal"),e.text(`SGST (${t.sgstRate||0}%):`,m+30,p),e.setFont("NotoSans","normal");const _=W(t.sgst||0);if(e.text(_,m+G-e.getTextWidth(_),p),t.totalDiscount>0){p+=6,e.setFont("Verdana","normal"),e.text("Discount :",m+30,p),e.setFont("NotoSans","normal");const i=W(t.totalDiscount||0);e.text(`- ${i}`,m+G-e.getTextWidth(_),p)}p+=6,e.setFont("Verdana","bold"),e.text("Total:",m+30,p),e.setFont("NotoSans","normal");const xe=W(t.total);for(let i=0;i<2;i++)e.text(xe,m+G-e.getTextWidth(xe)+i*.2,p);p+=6,e.setFont("Verdana","bold"),e.text("Balance Due:",m+30,p),e.setFont("NotoSans","normal");const ge=W(t.balanceDue||t.total);for(let i=0;i<2;i++)e.text(ge,m+G-e.getTextWidth(ge)+i*.2,p);n+=20,e.setFontSize(9),e.setFont("Verdana","normal"),e.text("Thank you for the valuable business! We will always be at",15,n),e.text("your desk to support you.",15,n+5);const L=n+15;e.line(s/1.5,L,s-10,L);try{e.addImage("./image/sign.webp","JPEG",m+55,L+5,20,15)}catch{console.log("Signature image not found")}try{e.addImage("./image/seal.webp","JPEG",m+30,L+1,20,20)}catch{console.log("Seal image not found")}try{e.addImage("./image/scanner.webp","PNG",m+40,L+25,25,25)}catch{console.log("Scanner image not found")}e.setFontSize(7),e.setFont("Verdana","normal"),e.text("Authorized Signature",m+50,L+20),n=L-5,n+=6,e.setFontSize(8),e.setFont("Verdana","bold"),e.text("Terms & Conditions:",15,n),e.setFont("Verdana","normal"),n+=5;const _e=t.termsAndConditions||"Full payment is due upon receipt of this invoice. Late payment may incur additional charges as per the applicable rates.",be=Ye(_e,s-140);be.forEach((i,f)=>{e.text(i,15,n+f*4)}),n+=Math.max(be.length*4,8),n+=5,e.setFontSize(8),e.setFont("Verdana","bold"),e.text("Our Bank Details:",15,n),n+=5,e.setFont("Verdana","normal");const Te=(t.bankDetails||`Name: Excerpt Technologies Private Limited
  Account Number: 10063739760
  Name of Bank: IDFC First Bank  
  IFSC Code: IDFB0080151
  PAN No: AAGCE2327K`).split(`
`);Te.forEach((i,f)=>{f===0||f===1?e.setFont("Verdana","bold"):e.setFont("Verdana","normal"),e.text(i,15,n+f*4)}),n+=Te.length-8,e.setFontSize(8),e.setTextColor(0,0,255),e.text("https://excerptech.com",15,a-10),e.setTextColor(0,0,0),e.text("E-mail: info@excerptech.com",s-65,a-10);const fe=t.invoiceNumber.split("/"),qe=fe[fe.length-1],Je=t.billtocompanyname||t.billToCompanyName||"Company",Qe=`INV ${qe} ${Je}.pdf`,et=e.output("bloburl"),ye=window.open(et,"_blank");ye&&(ye.document.title=Qe)}catch(e){console.error("Error generating PDF preview:",e),alert("Error generating PDF preview. Please try again.")}finally{ee(null)}},Ge=async t=>{t.preventDefault();try{oe(!0);const s=(await Se.post("/invoices",{...l,parts:T,discounts:P,cgstRate:w,sgstRate:$})).data;Q(a=>a+1),await Xe(s),De("/invoice-display")}catch(e){console.error("Error saving invoice:",e),alert("Error saving invoice. Please try again.")}finally{oe(!1)}};return o.jsxs("form",{className:"invoice-form",onSubmit:Ge,children:[o.jsxs("div",{className:"header",children:[o.jsx("img",{src:"/Image/excerpt.webp",alt:"Excerpt Logo",style:{height:"100px",width:"170px"}}),o.jsx("h2",{children:"INVOICE"})]}),o.jsxs("div",{className:"company-info",children:[o.jsx("h3",{children:"Excerpt Technologies Pvt Ltd"}),o.jsx("p",{children:"B133/1, 2nd Fl, KSSDC ITI Estate, Whitefield Rd,"}),o.jsx("p",{children:"Mahadevpura Post, Bangalore - 560048"}),o.jsx("p",{children:"Phone: +91(636) 465 7660, +91 (990) 050 2404"}),o.jsx("p",{children:"GSTIN: 29AAGCE2327K1ZH"}),o.jsx("p",{children:"LUT No.: AD291021005439D"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-xl-2",children:[o.jsx("label",{children:"Invoice: "}),o.jsx("input",{type:"text",name:"invoiceNumber",className:"form-control form-control-sm",value:l.invoiceNumber,readOnly:!0})]}),o.jsxs("div",{className:"col-xl-2",children:[o.jsx("label",{children:"Year:"}),o.jsxs("select",{name:"year",value:l.year,className:"form-control form-control-sm",onChange:c,children:[o.jsx("option",{value:"25-26",children:"2025-2026"}),o.jsx("option",{value:"26-27",children:"2026-2027"})]})]}),o.jsxs("div",{className:"col-xl-2",children:[o.jsx("label",{children:"Date:"}),o.jsx("input",{type:"date",name:"date",className:"form-control form-control-sm",value:l.date,onChange:c,onKeyDown:t=>{["Tab","Enter","Escape"].includes(t.key)||t.preventDefault()},onFocus:t=>t.target.showPicker&&t.target.showPicker(),style:q})]}),o.jsxs("div",{className:"col-xl-2",children:[o.jsx("label",{children:"Terms:"}),o.jsx("input",{type:"text",className:"form-control form-control-sm",name:"terms",value:l.terms,onChange:c})]}),o.jsxs("div",{className:"col-xl-2",children:[o.jsx("label",{children:"Due Date:"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",name:"dueDate",value:l.dueDate,onChange:c,onKeyDown:t=>{["Tab","Enter","Escape"].includes(t.key)||t.preventDefault()},onFocus:t=>t.target.showPicker&&t.target.showPicker(),style:q})]})]}),o.jsx("div",{children:o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-xl-6",children:[o.jsx("h4",{children:"Bill To:"}),o.jsx("input",{type:"text",name:"billToName",placeholder:"Name",value:l.billToName,onChange:c}),o.jsx("input",{type:"text",name:"billtocompanyname",placeholder:"Company Name",value:l.billtocompanyname,onChange:c}),o.jsx("input",{type:"text",name:"billToAddress",placeholder:"Address",value:l.billToAddress,onChange:c}),o.jsx("input",{type:"tel",name:"billTophone",placeholder:"+91XXXXXXXXXX",value:l.billTophone,onChange:c,style:{borderColor:l.billTophone&&!ae(l.billTophone)?"red":""}}),o.jsx("input",{type:"email",name:"billToemail",placeholder:"email@example.com",value:l.billToemail,onChange:c,style:{borderColor:l.billToemail&&!se(l.billToemail)?"red":""}}),o.jsx("input",{type:"text",name:"billTogstin",placeholder:"15 digit GST number",value:l.billTogstin,onChange:c,style:{borderColor:l.billTogstin&&!le(l.billTogstin)?"red":""}})]}),o.jsxs("div",{className:"ship-to col-xl-6",children:[o.jsx("div",{style:{display:"flex",alignItems:"center"},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[o.jsx("input",{type:"checkbox",checked:Y,onChange:Ie}),"Ship To same as Bill To"]})}),o.jsx("h4",{children:"Ship To:"}),o.jsx("input",{type:"text",name:"shipToName",placeholder:"Name",value:l.shipToName,onChange:c}),o.jsx("input",{type:"text",name:"shipTocompanyname",placeholder:"Company Name",value:l.shipTocompanyname,onChange:c}),o.jsx("input",{type:"text",name:"shipToAddress",placeholder:"Address",value:l.shipToAddress,onChange:c}),o.jsx("input",{type:"tel",name:"shipTophone",placeholder:"+91XXXXXXXXXX",value:l.shipTophone,onChange:c,style:{borderColor:l.shipTophone&&!ae(l.shipTophone)?"red":""}}),o.jsx("input",{type:"email",name:"shipToemail",placeholder:"email@example.com",value:l.shipToemail,onChange:c,style:{borderColor:l.shipToemail&&!se(l.shipToemail)?"red":""}}),o.jsx("input",{type:"text",name:"shipTogstin",placeholder:"15 digit GST number",value:l.shipTogstin,onChange:c,style:{borderColor:l.shipTogstin&&!le(l.shipTogstin)?"red":""}})]})]})})]}),o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Item & Description"}),o.jsx("th",{children:"Amount"})]})}),o.jsx("tbody",{children:T.map((t,e)=>o.jsxs(nt.Fragment,{children:[o.jsx("tr",{children:o.jsxs("td",{colSpan:"2",style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("label",{style:{fontWeight:"bold",minWidth:"100px"},children:"Part Title:"}),o.jsx("input",{type:"text",value:t.title,onChange:s=>We(e,s.target.value),style:{flexGrow:1,fontWeight:"bold",fontSize:"1.1em"}}),o.jsx("button",{type:"button",onClick:()=>ze(e),style:{backgroundColor:"red",color:"white",border:"none",cursor:"pointer",padding:"5px 10px"},children:"Delete"})]})}),t.items.map((s,a)=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("input",{type:"text",placeholder:"Description",value:s.description,onChange:n=>ie(e,a,"description",n.target.value),required:!0})}),o.jsxs("td",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("input",{type:"text",placeholder:"Amount",value:s.amount,onChange:n=>ie(e,a,"amount",n.target.value),min:"0",step:"0.01",required:!0}),o.jsx("button",{type:"button",onClick:()=>Ve(e,a),style:{backgroundColor:"red",color:"white",border:"none",cursor:"pointer",padding:"5px 10px"},children:"Delete"})]})]},a)),o.jsx("tr",{children:o.jsx("td",{colSpan:"2",children:o.jsxs("button",{type:"button",onClick:()=>ke(e),children:["+ Add Item to ",t.title]})})})]},e))})]}),o.jsx("div",{style:{marginBottom:"15px"},children:o.jsx("button",{type:"button",onClick:Le,children:"+ Add New Part"})}),o.jsxs("div",{className:"discount-section",style:{marginTop:"20px",marginBottom:"20px"},children:[o.jsx("h4",{children:"Discounts:"}),o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Discount Label"}),o.jsx("th",{children:"Amount"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:P.map((t,e)=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("input",{type:"text",placeholder:"Discount description",value:t.label,onChange:s=>re(e,"label",s.target.value)})}),o.jsx("td",{children:o.jsx("input",{type:"text",placeholder:"Discount amount",value:t.amount,onChange:s=>re(e,"amount",s.target.value)})}),o.jsx("td",{children:o.jsx("button",{type:"button",onClick:()=>$e(e),style:{backgroundColor:"red",color:"white",border:"none",cursor:"pointer",padding:"5px 10px"},children:"Delete"})})]},e))})]}),o.jsx("button",{type:"button",onClick:Be,style:{marginTop:"10px"},children:"+ Add Discount"})]}),o.jsxs("div",{className:"invoice-summary",children:[o.jsxs("label",{children:["Sub Total:",o.jsx("input",{type:"number",value:l.subTotal,readOnly:!0})]}),o.jsxs("label",{children:["CGST (%):",o.jsx("input",{type:"text",value:w,onChange:Pe,placeholder:"Enter CGST %",onInput:t=>{const e=t.target.value;/^\d{0,2}(\.\d{0,2})?$/.test(e)||e===""?t.target.value=e:t.target.value=w},inputMode:"decimal"})]}),o.jsxs("label",{children:["SGST (%):",o.jsx("input",{type:"text",value:$,onChange:Ee,placeholder:"Enter SGST %",onInput:t=>{const e=t.target.value;/^\d{0,2}(\.\d{0,2})?$/.test(e)||e===""?t.target.value=e:t.target.value=w},inputMode:"decimal"})]}),o.jsxs("label",{children:["CGST Amount:",o.jsx("input",{type:"number",value:l.cgst,readOnly:!0})]}),o.jsxs("label",{children:["SGST Amount:",o.jsx("input",{type:"number",value:l.sgst,readOnly:!0})]}),o.jsxs("label",{style:{fontWeight:"bold"},children:["Total:",o.jsx("input",{type:"number",value:l.total,readOnly:!0})]}),o.jsxs("label",{children:["Balance Due:",o.jsx("input",{type:"text",name:"balanceDue",value:l.balanceDue,onChange:c,onInput:t=>{const e=t.target.value;/^\d*\.?\d{0,2}$/.test(e)||e===""?t.target.value=e:t.target.value=l.balanceDue},inputMode:"decimal",placeholder:"Enter amount"})]}),o.jsxs("label",{children:["Total In Words:",o.jsx("input",{type:"text",name:"totalInWords",value:l.totalInWords,onChange:c})]})]}),o.jsxs("div",{className:"additional-fields",children:[o.jsxs("label",{children:["Thank You Message:",o.jsx("textarea",{name:"thankYouMessage",value:l.thankYouMessage,onChange:c,rows:3,style:{width:"100%",resize:"vertical"}})]}),o.jsxs("label",{children:["Terms & Conditions:",o.jsx("textarea",{name:"termsAndConditions",value:l.termsAndConditions,onChange:c,rows:4,style:{width:"100%",resize:"vertical"}})]}),o.jsxs("label",{children:["Bank Details:",o.jsx("textarea",{name:"bankDetails",value:l.bankDetails,onChange:c,rows:6,style:{width:"100%",resize:"vertical"}})]})]}),o.jsx("button",{type:"submit",disabled:te,className:"btn btn-primary",style:{width:"180px"},children:te?"Saving & Generating...":"Save & Preview PDF"})]})};export{ut as default};
